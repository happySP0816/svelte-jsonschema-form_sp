---
import StarlightPage from "@astrojs/starlight/components/StarlightPage.astro";

import { THEME_TTITLES, type Theme } from '@/shared';
import { Content, frontmatter } from "@/content/docs/index.mdx";

export function getStaticPaths() {
  return [{ params: { theme: "daisyui" } }, { params: { theme: "flowbite" } }];
}

function fixGetStartedUrl(
  frontmatter: Record<string, any>
): Record<string, any> {
  const action = frontmatter?.hero?.actions?.[0];
  if (!action) return frontmatter;
  action.link = `../${action.link}`;
  return frontmatter;
}
---

<StarlightPage
  frontmatter={{
    ...fixGetStartedUrl(frontmatter),
    title: `${frontmatter.title} with ${THEME_TTITLES[Astro.params.theme as Theme]}`,
  }}
>
  <Content />
</StarlightPage>
